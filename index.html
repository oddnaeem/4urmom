<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>‡¶™‡¶æ‡¶∞‡¶´‡ßá‡¶ï‡ßç‡¶ü ‡¶∏‡ßç‡¶ü‡¶æ‡¶°‡¶ø ‡¶ü‡ßç‡¶∞‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶∞</title>
<style>
  /* Reset */
  *, *::before, *::after {
    box-sizing: border-box;
  }
  body {
    margin: 0; padding: 0;
    font-family: 'Noto Sans Bengali', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #f9fbfd;
    color: #1e293b;
    display: flex;
    flex-direction: column;
    min-height: 100vh;
  }
  header {
    background-color: #2563eb;
    color: white;
    padding: 1rem 0;
    text-align: center;
    font-size: 1.5rem;
    font-weight: 700;
    box-shadow: 0 2px 6px rgb(37 99 235 / 0.3);
  }
  main {
    flex-grow: 1;
    max-width: 480px;
    margin: 1rem auto;
    background: #fff;
    border-radius: 12px;
    padding: 1.25rem 1rem 2rem;
    box-shadow: 0 4px 12px rgb(0 0 0 / 0.1);
  }
  .date {
    font-weight: 600;
    font-size: 1.15rem;
    color: #2563eb;
    text-align: center;
    margin-bottom: 1.25rem;
  }
  ul.task-list {
    list-style: none;
    padding: 0;
    margin: 0;
  }
  ul.task-list li {
    display: flex;
    align-items: center;
    padding: 12px 0;
    border-bottom: 1px solid #e2e8f0;
  }
  ul.task-list li:last-child {
    border-bottom: none;
  }
  ul.task-list label {
    flex-grow: 1;
    cursor: pointer;
    font-size: 1.05rem;
    user-select: none;
  }
  ul.task-list input[type="checkbox"] {
    width: 22px;
    height: 22px;
    margin-right: 15px;
    cursor: pointer;
  }
  button#saveBtn {
    display: block;
    width: 100%;
    padding: 14px;
    background-color: #2563eb;
    border: none;
    border-radius: 8px;
    color: white;
    font-weight: 600;
    font-size: 1.1rem;
    cursor: pointer;
    margin-top: 1.5rem;
    box-shadow: 0 4px 8px rgb(37 99 235 / 0.4);
    transition: background-color 0.3s ease;
  }
  button#saveBtn:hover {
    background-color: #1e40af;
  }
  .suggestion {
    margin-top: 1.5rem;
    padding: 1rem 1rem;
    border-left: 5px solid #2563eb;
    background-color: #e0e7ff;
    color: #1e3a8a;
    font-size: 1rem;
    border-radius: 6px;
    line-height: 1.4;
  }
  .history {
    margin-top: 2rem;
  }
  .history h3 {
    text-align: center;
    color: #2563eb;
    font-weight: 700;
    margin-bottom: 0.75rem;
    font-size: 1.2rem;
  }
  .history-list {
    max-height: 210px;
    overflow-y: auto;
    background: #f1f5ff;
    border-radius: 8px;
    border: 1px solid #cbd5e1;
    padding: 10px 12px;
  }
  .history-item {
    display: flex;
    justify-content: space-between;
    font-size: 0.9rem;
    padding: 8px 6px;
    border-bottom: 1px solid #cbd5e1;
    user-select: none;
  }
  .history-item:last-child {
    border-bottom: none;
  }
  .history-item.complete {
    color: #16a34a; /* green */
    font-weight: 600;
  }
  .history-item.incomplete {
    color: #dc2626; /* red */
    font-weight: 600;
  }
  @media (max-width: 400px) {
    main {
      margin: 1rem 0.75rem;
      padding: 1rem 0.75rem 1.5rem;
    }
    .date {
      font-size: 1.05rem;
    }
    button#saveBtn {
      font-size: 1rem;
      padding: 12px;
    }
  }
</style>
</head>
<body>
  <header>üìö ‡¶™‡¶æ‡¶∞‡¶´‡ßá‡¶ï‡ßç‡¶ü ‡¶∏‡ßç‡¶ü‡¶æ‡¶°‡¶ø ‡¶ü‡ßç‡¶∞‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶∞</header>
  <main>
    <div class="date" id="date"></div>
    <ul class="task-list" id="taskList"></ul>
    <button id="saveBtn">‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡ßÅ‡¶®</button>
    <div class="suggestion" id="suggestion" style="display:none;"></div>
    <div class="history">
      <h3>‡¶¨‡¶ø‡¶ó‡¶§ ‡¶¶‡¶ø‡¶®‡ßá‡¶∞ ‡¶™‡¶æ‡¶∞‡¶´‡¶∞‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶∏</h3>
      <div class="history-list" id="historyList"></div>
    </div>
  </main>

<script>
  const tasks = [
    "‡¶®‡¶§‡ßÅ‡¶® ‡¶ü‡¶™‡¶ø‡¶ï ‡¶™‡ßú‡¶æ",
    "‡¶™‡ßÅ‡¶∞‡¶æ‡¶®‡ßã ‡¶¨‡¶ø‡¶∑‡ßü ‡¶∞‡¶ø‡¶≠‡¶ø‡¶∂‡¶®",
    "‡¶®‡ßã‡¶ü‡¶∏ ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶æ",
    "‡¶™‡ßç‡¶∞‡ßç‡¶Ø‡¶æ‡¶ï‡¶ü‡¶ø‡¶∏ ‡¶ï‡¶∞‡¶æ",
    "‡¶™‡¶∞‡ßç‡¶Ø‡¶æ‡¶™‡ßç‡¶§ ‡¶∏‡¶Æ‡ßü ‡¶™‡ßú‡¶æ‡¶∂‡ßã‡¶®‡¶æ",
    "‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶™‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶® ‡¶Ö‡¶®‡ßÅ‡¶Ø‡¶æ‡ßü‡ßÄ ‡¶ï‡¶æ‡¶ú"
  ];

  const taskList = document.getElementById('taskList');
  const dateEl = document.getElementById('date');
  const saveBtn = document.getElementById('saveBtn');
  const suggestionEl = document.getElementById('suggestion');
  const historyList = document.getElementById('historyList');

  // ‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶´‡¶∞‡¶Æ‡ßç‡¶Ø‡¶æ‡¶ü
  const today = new Date();
  const todayStr = today.toISOString().slice(0,10);
  dateEl.textContent = `‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ: ${todayStr}`;

  // ‡¶ö‡ßá‡¶ï‡¶≤‡¶ø‡¶∏‡ßç‡¶ü ‡¶§‡ßà‡¶∞‡¶ø
  function createTasks(progress=[]) {
    taskList.innerHTML = "";
    tasks.forEach((task, i) => {
      const li = document.createElement('li');
      const label = document.createElement('label');
      label.htmlFor = `task-${i}`;

      const checkbox = document.createElement('input');
      checkbox.type = 'checkbox';
      checkbox.id = `task-${i}`;
      checkbox.checked = progress[i] || false;

      label.appendChild(checkbox);
      label.appendChild(document.createTextNode(task));
      li.appendChild(label);
      taskList.appendChild(li);
    });
  }

  // ‡¶≤‡ßã‡¶ï‡¶æ‡¶≤‡¶∏‡ßç‡¶ü‡ßã‡¶∞‡ßá‡¶ú ‡¶•‡ßá‡¶ï‡ßá ‡¶°‡ßá‡¶ü‡¶æ ‡¶≤‡ßã‡¶°
  function loadData() {
    const dataRaw = localStorage.getItem('studyPerformance') || '{}';
    try {
      return JSON.parse(dataRaw);
    } catch(e) {
      return {};
    }
  }

  // ‡¶°‡ßá‡¶ü‡¶æ ‡¶∏‡ßá‡¶≠
  function saveData(data) {
    localStorage.setItem('studyPerformance', JSON.stringify(data));
  }

  // ‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶™‡ßç‡¶∞‡¶ó‡ßç‡¶∞‡ßá‡¶∏ ‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡¶æ
  function saveProgress() {
    const data = loadData();
    const progress = tasks.map((_,i) => document.getElementById(`task-${i}`).checked);
    data[todayStr] = progress;
    saveData(data);
    showSuggestion(progress);
    loadHistory();
    alert("‚úÖ ‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶™‡ßç‡¶∞‡¶ó‡ßç‡¶∞‡ßá‡¶∏ ‡¶∏‡ßá‡¶≠ ‡¶π‡ßü‡ßá‡¶õ‡ßá!");
  }

  // ‡¶™‡¶æ‡¶∞‡¶´‡¶∞‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶∏ ‡¶¶‡ßá‡¶ñ‡ßá ‡¶∏‡¶æ‡¶ú‡ßá‡¶∂‡¶® ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã (‡¶®‡ßç‡¶Ø‡¶æ‡¶ö‡¶æ‡¶∞‡¶æ‡¶≤ ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú)
  function showSuggestion(progress) {
    const doneCount = progress.filter(x=>x).length;
    let msg = "";
    if(doneCount === tasks.length) {
      msg = "‡¶Ö‡¶≠‡¶ø‡¶®‡¶®‡ßç‡¶¶‡¶®! ‡¶Ü‡¶ú ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∏‡¶¨ ‡¶ï‡¶æ‡¶ú ‡¶∂‡ßá‡¶∑ ‡¶π‡ßü‡ßá‡¶õ‡ßá, ‡¶∏‡¶§‡ßç‡¶Ø‡¶ø‡¶á ‡¶¶‡¶æ‡¶∞‡ßÅ‡¶£ ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§ ‡¶Ü‡¶ú ‡¶è‡¶ï‡¶ü‡ßÅ ‡¶¨‡¶ø‡¶∂‡ßç‡¶∞‡¶æ‡¶Æ ‡¶®‡¶ø‡¶® ‡¶ï‡¶ø‡¶Ç‡¶¨‡¶æ ‡¶®‡¶§‡ßÅ‡¶® ‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶Æ‡¶ú‡¶æ ‡¶ï‡¶∞‡ßá ‡¶∂‡¶ø‡¶ñ‡ßÅ‡¶®!";
    } else if(doneCount >= tasks.length * 0.7) {
      msg = "‡¶ñ‡ßÅ‡¶¨ ‡¶≠‡¶æ‡¶≤‡ßã ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßá‡¶õ‡ßá‡¶®! ‡¶¨‡¶æ‡¶ï‡¶ø‡¶ü‡¶æ ‡¶ï‡¶æ‡¶ú‡¶ü‡¶æ‡¶ì ‡¶Ü‡¶ú ‡¶∂‡ßá‡¶∑ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®, ‡¶Ü‡¶™‡¶®‡¶ø ‡¶™‡¶æ‡¶∞‡¶¨‡ßá‡¶®‡•§";
    } else if(doneCount >= tasks.length * 0.4) {
      msg = "‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡ßá‡¶õ‡ßá‡¶®, ‡¶Ø‡¶æ ‡¶≠‡¶æ‡¶≤‡ßã‡•§ ‡¶è‡¶ñ‡¶® ‡¶è‡¶ï‡¶ü‡ßÅ ‡¶¨‡ßá‡¶∂‡¶ø ‡¶´‡ßã‡¶ï‡¶æ‡¶∏ ‡¶¶‡¶ø‡ßü‡ßá ‡¶∞‡¶ø‡¶≠‡¶ø‡¶∂‡¶® ‡¶Ü‡¶∞ ‡¶™‡ßç‡¶∞‡ßç‡¶Ø‡¶æ‡¶ï‡¶ü‡¶ø‡¶∏ ‡¶ï‡¶∞‡ßÅ‡¶®, ‡¶¶‡¶æ‡¶∞‡ßÅ‡¶£ ‡¶π‡¶¨‡ßá‡•§";
    } else {
      msg = "‡¶Ü‡¶¨‡¶æ‡¶∞‡ßã ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶∏‡¶Æ‡ßü ‡¶è‡¶∏‡ßá‡¶õ‡ßá! ‡¶è‡¶ï‡¶ü‡ßÅ ‡¶Æ‡¶® ‡¶¶‡¶ø‡ßü‡ßá ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡¶≤‡ßá ‡¶∏‡¶π‡¶ú‡ßá‡¶á ‡¶è‡¶ó‡ßã‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá‡¶®, ‡¶Ü‡¶ú‡¶ï‡ßá ‡¶™‡¶∞‡¶ø‡¶ï‡¶≤‡ßç‡¶™‡¶®‡¶æ ‡¶ï‡¶∞‡ßá ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§";
    }
    suggestionEl.textContent = msg;
    suggestionEl.style.display = 'block';
  }

  // ‡¶¨‡¶ø‡¶ó‡¶§ ‡¶¶‡¶ø‡¶®‡ßá‡¶∞ ‡¶™‡¶æ‡¶∞‡¶´‡¶∞‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶∏ ‡¶≤‡ßã‡¶°
  function loadHistory() {
    const data = loadData();
    historyList.innerHTML = "";
    const dates = Object.keys(data).sort((a,b) => b.localeCompare(a));
    if(dates.length === 0) {
      historyList.innerHTML = "<p style='text-align:center; color:#64748b;'>‡¶ï‡ßã‡¶®‡ßã ‡¶§‡¶•‡ßç‡¶Ø ‡¶®‡ßá‡¶á</p>";
      return;
    }
    dates.forEach(date => {
      const progress = data[date];
      const doneCount = progress.filter(x=>x).length;
      const total = progress.length;
      const div = document.createElement('div');
      div.classList.add('history-item');
      div.classList.add(doneCount === total ? 'complete' : 'incomplete');
      div.textContent = `${date}: ${doneCount}/${total} ‡¶ï‡¶æ‡¶ú ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶®`;
      historyList.appendChild(div);
    });
  }

  // ‡¶∂‡ßÅ‡¶∞‡ßÅ‡¶§‡ßá ‡¶°‡¶æ‡¶ü‡¶æ ‡¶≤‡ßã‡¶° ‡¶ì UI ‡¶§‡ßà‡¶∞‡¶ø
  const data = loadData();
  const todayProgress = data[todayStr] || [];
  createTasks(todayProgress);
  if(todayProgress.length > 0) {
    showSuggestion(todayProgress);
  }
  loadHistory();

  saveBtn.addEventListener('click', saveProgress);
</script>
</body>
</html>
